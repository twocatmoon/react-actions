var U=Object.defineProperty;var A=(s,a,d)=>a in s?U(s,a,{enumerable:!0,configurable:!0,writable:!0,value:d}):s[a]=d;var v=(s,a,d)=>(A(s,typeof a!="symbol"?a+"":a,d),d);(function(s,a){typeof exports=="object"&&typeof module!="undefined"?a(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],a):(s=typeof globalThis!="undefined"?globalThis:s||self,a(s["react-actions"]={},s.React))})(this,function(s,a){"use strict";function d(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var R=d(a),w={exports:{}},S={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x=R.default,b=Symbol.for("react.element"),j=Symbol.for("react.fragment"),I=Object.prototype.hasOwnProperty,P=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function E(r,t,e){var n,c={},u=null,i=null;e!==void 0&&(u=""+e),t.key!==void 0&&(u=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)I.call(t,n)&&!k.hasOwnProperty(n)&&(c[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)c[n]===void 0&&(c[n]=t[n]);return{$$typeof:b,type:r,key:u,ref:i,props:c,_owner:P.current}}S.Fragment=j,S.jsx=E,S.jsxs=E,w.exports=S;const C=w.exports.jsx;function T(r,t,e){const[n,c]=_(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);c&&(r=c);const u=a.createContext({state:r||null,dispatch:null});return Object.entries(t).forEach(([f,o])=>o.id=f),{Provider:f=>{const o=g(t,n,e==null?void 0:e.storageKey),[l,m]=a.useReducer(o,r);return C(u.Provider,{value:{state:l,dispatch:m},children:f.children})},useStore:()=>{const{state:f,dispatch:o}=a.useContext(u);return[f,o,()=>y(n,e==null?void 0:e.storageKey)]}}}class O{constructor(t){v(this,"listeners",{});v(this,"state");this.state=t}on(t,e){const n=this.listeners[t]||[];return n.push(e),this.listeners[t]=n,e}off(t,e){const n=this.listeners[t]||[],c=n.indexOf(e);n.splice(c,1),this.listeners[t]=n}trigger(t,e){return(this.listeners[t]||[]).map(c=>c(e))}}function D(r,t,e){const[n,c]=_(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);c&&(r=c);const u=new O(r);Object.entries(t).forEach(([o,l])=>l.id=o);const i=g(t,n,e==null?void 0:e.storageKey),h=o=>{const l=i(u.state,o);u.state=l,u.trigger("state_changed",{newState:l})};return{useStore:()=>{const[o,l]=a.useState(r);return a.useEffect(()=>{const m=u.on("state_changed",({newState:N})=>l(N));return()=>{u.off("state_changed",m)}}),[o,h,()=>y(n,e==null?void 0:e.storageKey)]}}}function L(r){function t(e){return[t.id,e===void 0?null:e]}return t.id="",t.resolve=r,t}function g(r,t,e){return function(n,c){const[u,i]=c,h=r[u];if(!h)throw new Error(`Action with ID '${u}' does not exist for this Store.`);const f=h.resolve(n,i);return t&&e&&t.setItem(e,JSON.stringify(f)),f}}function _(r,t){let e,n;if(typeof window!="undefined"&&r&&t&&(e=t==="local"?localStorage:sessionStorage),e)try{const c=e.getItem(r);c!==null&&(n=JSON.parse(c))}catch{throw new Error("Unable to parse stored data for store.")}return[e,n]}function y(r,t){if(r&&t)r.removeItem(t);else throw new Error("Unable to clear storage; no storage options set.")}s.Store=O,s.action=L,s.clearStorage=y,s.createStoreContext=T,s.createStoreEventBus=D,s.getStorage=_,s.makeReducer=g,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
