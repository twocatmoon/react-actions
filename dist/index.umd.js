var W=Object.defineProperty;var Y=(s,u,g)=>u in s?W(s,u,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[u]=g;var w=(s,u,g)=>(Y(s,typeof u!="symbol"?u+"":u,g),g);(function(s,u){typeof exports=="object"&&typeof module!="undefined"?u(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],u):(s=typeof globalThis!="undefined"?globalThis:s||self,u(s["react-actions"]={},s.React))})(this,function(s,u){"use strict";function g(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var C=g(u),_={exports:{}},y={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var E=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;function k(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function D(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(t).map(function(c){return t[c]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}D();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L=C.default,x=60103;if(y.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var R=Symbol.for;x=R("react.element"),y.Fragment=R("react.fragment")}var U=L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0};function P(r,t,e){var n,a={},c=null,o=null;e!==void 0&&(c=""+e),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)A.call(t,n)&&!B.hasOwnProperty(n)&&(a[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:x,type:r,key:c,ref:o,props:a,_owner:U.current}}y.jsx=P,y.jsxs=P,_.exports=y;const F=_.exports.jsx;function J(r,t,e){const[n,a]=v(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);a&&(r=a);const c=u.createContext({state:r||null,dispatch:null,execute:null});return Object.entries(t).forEach(([i,h])=>h.id=i),{Provider:i=>{const h=b(t,n,e==null?void 0:e.storageKey),[l,d]=u.useReducer(h,r),j=async function([S,m]){return await S(d,l,m)};return F(c.Provider,{value:{state:l,dispatch:d,execute:j},children:i.children})},useStore:()=>{const{state:i,dispatch:h,execute:l}=u.useContext(c);return[i,h,l,()=>O(n,e==null?void 0:e.storageKey)]}}}class I{constructor(t){w(this,"listeners",{});w(this,"state");this.state=t}on(t,e){const n=this.listeners[t]||[];return n.push(e),this.listeners[t]=n,e}off(t,e){const n=this.listeners[t]||[],a=n.indexOf(e);n.splice(a,1),this.listeners[t]=n}trigger(t,e){return(this.listeners[t]||[]).map(a=>a(e))}}function K(r,t,e){const[n,a]=v(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);!(e!=null&&e.ssr)&&a&&(r=a);const c=new I(r);Object.entries(t).forEach(([l,d])=>d.id=l);const o=b(t,n,e==null?void 0:e.storageKey),f=l=>{const d=o(c.state,l);c.state=d,c.trigger("state_changed",{newState:d})};return{useStore:()=>{const[l,d]=u.useState(c.state),j=async function([S,m]){return await S(f,l,m)};return u.useEffect(()=>{const S=c.on("state_changed",({newState:m})=>d(m));return()=>{c.off("state_changed",S)}},[]),[l,f,j,()=>O(n,e==null?void 0:e.storageKey)]},clientReady:()=>{!(e!=null&&e.ssr)||!a||(c.state=a,c.trigger("state_changed",{newState:a}))}}}function p(r){function t(e){return[t.id,e===void 0?null:e]}return t.id="",t.resolve=r,t}function M(r){return function(t){return[r,t]}}function b(r,t,e){return function(n,a){const[c,o]=a,f=r[c];if(!f)throw new Error(`Action with ID '${c}' does not exist for this Store.`);const i=f.resolve(n,o);return t&&e&&t.setItem(e,JSON.stringify(i)),i}}function v(r,t){let e,n;if(typeof window!="undefined"&&r&&t&&(e=t==="local"?localStorage:sessionStorage),e)try{const a=e.getItem(r);a!==null&&(n=JSON.parse(a))}catch{throw new Error("Unable to parse stored data for store.")}return[e,n]}function O(r,t){if(r&&t)r.removeItem(t);else throw new Error("Unable to clear storage; no storage options set.")}s.Store=I,s.action=p,s.actionSet=M,s.clearStorage=O,s.createStoreContext=J,s.createStoreEventBus=K,s.getStorage=v,s.makeReducer=b,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
