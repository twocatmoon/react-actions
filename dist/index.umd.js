var W=Object.defineProperty;var Y=(s,o,g)=>o in s?W(s,o,{enumerable:!0,configurable:!0,writable:!0,value:g}):s[o]=g;var j=(s,o,g)=>(Y(s,typeof o!="symbol"?o+"":o,g),g);(function(s,o){typeof exports=="object"&&typeof module!="undefined"?o(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],o):(s=typeof globalThis!="undefined"?globalThis:s||self,o(s["react-actions"]={},s.React))})(this,function(s,o){"use strict";function g(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var p=g(o),w={exports:{}},h={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var _=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;function N(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function T(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(t).map(function(c){return t[c]});if(n.join("")!=="0123456789")return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach(function(c){a[c]=c}),Object.keys(Object.assign({},a)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}T();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k=p.default,E=60103;if(h.Fragment=60107,typeof Symbol=="function"&&Symbol.for){var x=Symbol.for;E=x("react.element"),h.Fragment=x("react.fragment")}var D=k.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L=Object.prototype.hasOwnProperty,U={key:!0,ref:!0,__self:!0,__source:!0};function P(r,t,e){var n,a={},c=null,l=null;e!==void 0&&(c=""+e),t.key!==void 0&&(c=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)L.call(t,n)&&!U.hasOwnProperty(n)&&(a[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:E,type:r,key:c,ref:l,props:a,_owner:D.current}}h.jsx=P,h.jsxs=P,w.exports=h;const A=w.exports.jsx;function B(r,t,e){const[n,a]=v(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);a&&(r=a);const c=o.createContext({state:r||null,dispatch:null,execute:null});return Object.entries(t).forEach(([d,f])=>f.id=d),{Provider:d=>{const f=b(t,n,e==null?void 0:e.storageKey),[i,m]=o.useReducer(f,r),y=async function([S,M]){return await S(m,i,M)};return A(c.Provider,{value:{state:i,dispatch:m,execute:y},children:d.children})},useStore:()=>{const{state:d,dispatch:f,execute:i}=o.useContext(c);return[d,f,i,()=>O(n,e==null?void 0:e.storageKey)]}}}class R{constructor(t){j(this,"listeners",{});j(this,"state");this.state=t}on(t,e){const n=this.listeners[t]||[];return n.push(e),this.listeners[t]=n,e}off(t,e){const n=this.listeners[t]||[],a=n.indexOf(e);n.splice(a,1),this.listeners[t]=n}trigger(t,e){return(this.listeners[t]||[]).map(a=>a(e))}}function F(r,t,e){const[n,a]=v(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);a&&(r=a);const c=new R(r);Object.entries(t).forEach(([f,i])=>i.id=f);const l=b(t,n,e==null?void 0:e.storageKey),u=f=>{const i=l(c.state,f);c.state=i,c.trigger("state_changed",{newState:i})};return{useStore:()=>{const[f,i]=o.useState(r),m=async function([y,S]){return await y(u,f,S)};return o.useEffect(()=>{const y=c.on("state_changed",({newState:S})=>i(S));return()=>{c.off("state_changed",y)}}),[f,u,m,()=>O(n,e==null?void 0:e.storageKey)]}}}function J(r){function t(e){return[t.id,e===void 0?null:e]}return t.id="",t.resolve=r,t}function K(r){return function(t){return[r,t]}}function b(r,t,e){return function(n,a){const[c,l]=a,u=r[c];if(!u)throw new Error(`Action with ID '${c}' does not exist for this Store.`);const d=u.resolve(n,l);return t&&e&&t.setItem(e,JSON.stringify(d)),d}}function v(r,t){let e,n;if(typeof window!="undefined"&&r&&t&&(e=t==="local"?localStorage:sessionStorage),e)try{const a=e.getItem(r);a!==null&&(n=JSON.parse(a))}catch{throw new Error("Unable to parse stored data for store.")}return[e,n]}function O(r,t){if(r&&t)r.removeItem(t);else throw new Error("Unable to clear storage; no storage options set.")}s.Store=R,s.action=J,s.actionSet=K,s.clearStorage=O,s.createStoreContext=B,s.createStoreEventBus=F,s.getStorage=v,s.makeReducer=b,Object.defineProperties(s,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
