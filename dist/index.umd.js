var K=Object.defineProperty;var F=(u,a,_)=>a in u?K(u,a,{enumerable:!0,configurable:!0,writable:!0,value:_}):u[a]=_;var R=(u,a,_)=>(F(u,typeof a!="symbol"?a+"":a,_),_);(function(u,a){typeof exports=="object"&&typeof module!="undefined"?a(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],a):(u=typeof globalThis!="undefined"?globalThis:u||self,a(u["react-actions"]={},u.React))})(this,function(u,a){"use strict";function _(r){return r&&typeof r=="object"&&"default"in r?r:{default:r}}var b=_(a),E={exports:{}},y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j=b.default,I=Symbol.for("react.element"),P=Symbol.for("react.fragment"),k=Object.prototype.hasOwnProperty,C=j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function x(r,t,e){var n,c={},s=null,i=null;e!==void 0&&(s=""+e),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)k.call(t,n)&&!T.hasOwnProperty(n)&&(c[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)c[n]===void 0&&(c[n]=t[n]);return{$$typeof:I,type:r,key:s,ref:i,props:c,_owner:C.current}}y.Fragment=P,y.jsx=x,y.jsxs=x,E.exports=y;const D=E.exports.jsx;function L(r,t,e){const[n,c]=v(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);!(e!=null&&e.ssr)&&c&&(r=c);const s=a.createContext({state:r,dispatch:null,execute:null});return Object.entries(t).forEach(([d,f])=>f.id=d),{Provider:d=>{const f=m(t,n,e==null?void 0:e.storageKey),[l,S]=a.useReducer(f,r),g=async function([B,J]){return await B(S,l,J)},h=a.useRef(!1);return a.useEffect(()=>{!(e!=null&&e.ssr)||!c||h.current||(h.current=!0,S(["__clientReady__",c]))},[S]),D(s.Provider,{value:{state:l,dispatch:S,execute:g},children:d.children})},useStore:()=>{const{state:d,dispatch:f,execute:l}=a.useContext(s);return[d,f,l,()=>w(n,e==null?void 0:e.storageKey)]}}}class O{constructor(t){R(this,"listeners",{});R(this,"state");R(this,"isReady",!1);this.state=t}on(t,e){const n=this.listeners[t]||[];return n.push(e),this.listeners[t]=n,e}off(t,e){const n=this.listeners[t]||[],c=n.indexOf(e);n.splice(c,1),this.listeners[t]=n}trigger(t,e){return(this.listeners[t]||[]).map(c=>c(e))}}function N(r,t,e){const[n,c]=v(e==null?void 0:e.storageKey,e==null?void 0:e.storageType);!(e!=null&&e.ssr)&&c&&(r=c);const s=new O(r);Object.entries(t).forEach(([f,l])=>l.id=f);const i=m(t,n,e==null?void 0:e.storageKey),o=f=>{const l=i(s.state,f);s.state=l,s.trigger("state_changed",{newState:l})};return{useStore:()=>{const[f,l]=a.useState(s.state),S=async function([g,h]){return await g(o,f,h)};return a.useEffect(()=>{const g=s.on("state_changed",({newState:h})=>l(h));return()=>{s.off("state_changed",g)}},[l]),a.useEffect(()=>{!(e!=null&&e.ssr)||!c||s.isReady||(s.isReady=!0,s.state=c,s.trigger("state_changed",{newState:c}))},[]),[f,o,S,()=>w(n,e==null?void 0:e.storageKey)]}}}function U(r){function t(e){return[t.id,e===void 0?null:e]}return t.id="",t.resolve=r,t}function A(r){return function(t){return[r,t]}}function m(r,t,e){return function(n,c){const[s,i]=c;if(s==="__clientReady__")return i;const o=r[s];if(!o)throw new Error(`Action with ID '${s}' does not exist for this Store.`);const d=o.resolve(n,i);return t&&e&&t.setItem(e,JSON.stringify(d)),d}}function v(r,t){let e,n;if(typeof window!="undefined"&&r&&t&&(e=t==="local"?localStorage:sessionStorage),e)try{const c=e.getItem(r);c!==null&&(n=JSON.parse(c))}catch{throw new Error("Unable to parse stored data for store.")}return[e,n]}function w(r,t){if(r&&t)r.removeItem(t);else throw new Error("Unable to clear storage; no storage options set.")}u.Store=O,u.action=U,u.actionSet=A,u.clearStorage=w,u.createStoreContext=L,u.createStoreEventBus=N,u.getStorage=v,u.makeReducer=m,Object.defineProperties(u,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
